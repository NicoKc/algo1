\documentclass{article}
\input{../Latex/Algo1Macros.tex}

\begin{document}

\begin{proc}{ralentizar}{\Inout r: reunion,
    \In prof: \ent,
    \In freq: \ent}{}
\pre{ esReuniónVálidaAux(r, prof, freq) \wedge 
    r_{0} = r }
\post{ \\
    esReuniónVálidaAux(r, prof, freq) \yLuego \\
        \longitud{r} = \longitud{r_{0}} \yLuego \\
        lasSeñalesTienenElDobleDeMuestras(r, r_{0}) \yLuego \\
        promedioEntrePares(r, r_{0})
}
\end{proc}

\pred{lasSeñalesTienenElDobleDeMuestras}{r: reunion,
    r_{0}: reunion}
{

    \paraTodo{i}{0}{\longitud{r_{0}}}
    \implicaLuego
        (2 \cdot \longitud{r_{0}[i]_{0}}) = (\longitud{r[i]_{0}} + 1)
}

\pred{promedioEntrePares}{r: reunion,
    r_{0}: reunion}
{

    \paraTodo{i}{0}{\longitud{r}}
    \implicaLuego (

        \existe{j}{0}{\longitud{r_{0}}} \yLuego (
            r[i]_{1} = r_{0}[j]_{1}
        ) \yLuego (
            
            \paraTodo{q}{0}{\longitud{r[i]_{0}}}
            \implicaLuego

            \IfThenElse{esPar(q)}{
                r[j]_{0}[q] = r_{0}[i]_{0}[\frac{q}{2}]
            }{
                r[j]_{0}[q] = \frac{r_{0}[i]_{0}[\frac{q-1}{2}] + r_{0}[i]_{0}[\frac{q+1}{2}]}{2}
            }
        )
    )
}

\end{document}
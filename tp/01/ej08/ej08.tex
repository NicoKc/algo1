\documentclass{article}
\input{../Latex/Algo1Macros.tex}

\begin{document}

\begin{proc}{silencios}{\In s: señal,
    \In freq: \ent,
    \In prof: \ent,
    \Out intervalos: \TLista{intervalo}}{}
\pre{ esSeñalAux(s, prof, freq) \wedge (umbral > 0) }
\post{

    \quad noHayIntervalosRepetidos(intervalos) \wedge

    \quad\quad\paraTodo{i}{0}{\longitud{intervalos}} \implicaLuego (

    \quad\quad\quad esSilencio(s, umbral, freq, intervalos[i])
    )

}
\end{proc}

\pred{esSilencio}{s: senal,
    umbral: \ent,
    freq: \ent,
    in: intervalo}
{

    \quad (finEsMayorQueInicio(in_{0}, in_{1}) \wedge

    \quad\quad estaDentroDeLaSeñal(s, in_{0}, in_{1})) \yLuego

    \quad\quad esAlMenosUnDecimoDeSegundo(freq, in_{0}, in_{1}) \wedge

    \quad\quad entreIndicesNoPasaCiertoUmbral(s, umbral, in_{0}, in_{1}) \wedge

    \quad\quad losAdyacentesSuperanElUmbral(s, umbral, in_{0}, in_{1})

}

$ $

\pred{noHayIntervalosRepetidos}{ins: \TLista{intervalo}}
{
    \paraTodo{i}{0}{\longitud{ins}}
    \implicaLuego (
        \#apariciones(ins, e) = 1
    )
}

$ $

\pred{finEsMayorQueInicio}{inicio: \ent,
    fin: \ent}
{
    fin > inicio
}

$ $

\pred{estaDentroDeLaSeñal}{s: señal,
    inicio: \ent,
    fin: \ent,}
{
    (inicio \geq 0) \wedge (fin < |s|)
}

$ $

\pred{esAlMenosUnDecimoDeSegundo}{freq: \ent,
    inicio: \ent,
    fin: \ent,}
{
    (fin - inicio + 1) \geq (frecuencia * 100)
}

$ $

\pred{losAdyacentesSuperanElUmbral}{s: señal,
    umbral: \ent,
    inicio: \ent,
    fin: \ent}
{

    \quad(
        (inicio = 0) \vee (
            (
                inicio-1 \geq 0 
            ) \yLuego (
                s[inicio-1] \geq umbral
            )
        )
    ) \wedge (

        \quad\quad(fin = \longitud{s} - 1) \vee (
            (
                fin+1 < \longitud{s}
            ) \yLuego (
                s[fin+1] \geq umbral
            )
        )
    )

}

$ $

\pred{entreIndicesNoPasaCiertoUmbral}{s: señal,
    umbral: \ent,
    inicio: \ent,
    fin: \ent}
{

    \quad\paraTodo{i}{inicio}{fin+1}
    \implicaLuego
    (abs(s[i]) < umbral)

}

\end{document}
\documentclass{standalone}
\input{../Latex/Algo1Macros.tex}

\begin{document}

\begin{proc}{seEnoj칩?}{\In s: se침al, \In umbral: \ent, \In prof: \ent, \In freq: \ent, out result: \bool}{}
\pre{ umbral > 0 \wedge esSe침alAux(s, prof, freq) }
\post{ \\
    result = umbralEnRango(umbral, prof) \wedge \\
        existeUnaSubsecuenciaQueSuperaUmbral(s, freq, umbral)
}
\end{proc}

\pred{umbralEnRango}{umbral: \ent, p: \ent}{ umbral \geq 2^{p-1}-1 }

\pred{existeUnaSubsecuenciaQueSuperaUmbral}{s: se침al, freq: \ent, u: \ent}{

    \existe{d,h}{0}{\longitud{s} + 1}
    \wedge
    (h > (d + freq * 1000 * 5)) \yLuego (

        \paraTodo{i}{0}{\longitud{subseq(s,d,h)}} 
        \implicaLuego
        abs(subseq(s,d,h)[i]) > umbral
    )
}

\aux{abs}{x: \ent}{\ent}{\IfThenElse{x > 0}{x}{-x}}

\end{document}
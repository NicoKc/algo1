
\begin{proc}{seEnojó?}{\In $s$: $se\tilde{n}al$,
    \In $umbral$: \ent,
    \In $prof$: \ent,
    \In $freq$: \ent,
    \Out $result$: \bool}{}
\pre{ umbral > 0 \wedge esSe\tilde{n}alAux(s, prof, freq) }
\post{

    $\quad result = true \Iff umbralEnRango(umbral, prof)\ \wedge$

        $\quad\quad existeUnaSubsecuenciaQueSuperaUmbral(s, freq, umbral)$
}
\end{proc}

\pred{umbralEnRango}{$umbral$: \ent, $p$: \ent}{ umbral \leq 2^{p-1}-1 }

$ $

\pred{existeUnaSubsecuenciaQueSuperaUmbral}{$s$: $señal$, $freq$: \ent, $umbral$: \ent}{

    $\quad\existe{d,h}{0}{\longitud{s} + 1}$
    $\wedge$
    $(h > (d + freq * 1000 * 5))\ \yLuego ($

        $\qquad\paraTodo{i}{0}{\longitud{subseq(s,d,h)}}$
        $\implicaLuego$
        $abs(subseq(s,d,h)[i]) > umbral$
    $)$

}

$ $

\aux{abs}{$x$: \ent}{\ent}{\IfThenElse{x > 0}{x}{-x}}

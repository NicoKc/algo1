~~~
proc acelerar(inout r: reunion, in prof: Z, in freq: Z) {
    Pre { esReuniónVálidaAux(r, prof, freq) ∧ r0 = r }
    Post {
        esReuniónVálidaAux(r, prof, freq) ∧L 
            |r| = |r0| ∧L 
            mitadSeñal(r, r0) ∧L 
            losImpares(r, r0)
    }
}

pred lasSeñalesTieneLaMitadDeMuestras(r: reunion, r0: reunion) {
    (∀i : Z) (
        (0 ≤ i < |r|) →L (
            if esPar(|fst r[0]|) then
                |fst r[i]| = (1/2) * |fst r[0]|
            else
                |fst r[i]| = (1/2) * (|fst r[0]| - 1)
            endif

        )
    )
}

pred losImpares(r: reunion, r0: reunion) {
    (∀i : Z) (
        (0 ≤ i < |r|) →L (
            (∃j : Z) (
                (0 ≤ j < |r0|) ∧L (
                    (∀q : Z) (
                        (0 ≤ q < |fst r0[i]|) ∧ (¬esPar(q)) →L (
                            (fst r0[i])[q] = (fst r[j])[(q-1)/2]
                        )
                    )
                ) ∧L (
                    (snd r[i] = snd r0[j])
                )
            )
        )
    )
}

~~~
